<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æ‰¾é’¥åŒ™æ¸¸æˆ</title>
  <style>
    body {
      padding: 0;
      margin: 0;
    }

    /* åŸºç¡€æ ·å¼ */
    .box {
      box-sizing: border-box;
      width: 100%;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #a1d0f8;
      position: relative;
    }

    /* é‡æ–°å¼€å§‹æŒ‰é’® */
    .restart-button {
      position: fixed;
      right: 10px;
      top: 5px;
      z-index: 1000;
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #ff4757;
      border-radius: 30px;
      box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
      font-size: 18px;
      color: #ff4757;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .restart-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(255, 71, 87, 0.4);
      background: #fff;
    }

    /* å·¦ä¾§æç¤ºåˆ—è¡¨ */
    .leftTipsList {
      box-sizing: border-box;
      position: absolute;
      left: 10px;
      top: 100px;
    }

    .leftTipsList .item {
      box-sizing: border-box;
      display: none;
      justify-content: space-evenly;
      align-items: center;
      padding: 10px 15px;
      border-radius: 6px;
      background-color: #ffffff;
      border: 2px solid #04276d;
      transition: all 0.3s;
      margin-bottom: 15px;
      display: none;
      /* é»˜è®¤éšè— */
      opacity: 0.6;
      position: relative;
    }

    .leftTipsList .item.active {
      display: flex !important;
      /* å½“å‰æ¿€æ´»çš„æ˜¾ç¤º */
      opacity: 1;
      animation: pulse 1.5s infinite;
      border-color: #ff4757;
    }

    .leftTipsList .item.found {
      display: flex !important;
      /* å·²æ‰¾åˆ°çš„ä¿æŒæ˜¾ç¤º */
      opacity: 0.6;
    }

    .leftTipsList .item.found::after {
      content: "âœ…";
      position: absolute;
      right: 5px;
      top: 5px;
    }

    .leftTipsList .item .icon {
      width: 50px;
      height: 50px;
      margin-right: 5px;
    }

    .leftTipsList .item .icon img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .leftTipsList .item .text {
      font-size: 24px;
      font-weight: 600;
    }

    .leftTipsList .item .text span {
      padding: 0 5px;
    }

    /* æç¤ºæ¡† */
    .hint-box {
      position: fixed;
      top: 20%;
      left: 50%;
      transform: translateX(-50%);
      padding: 20px 40px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      font-size: 24px;
      color: #4874cb;
      z-index: 999;
      opacity: 0;
      transition: all 0.5s ease;
    }

    .hint-box.show {
      opacity: 1;
      transform: translate(-50%, 0);
    }

    /* ä¸»å®¹å™¨ */
    .container {
      box-sizing: border-box;
      position: relative;
      margin: 0 auto;
    }

    /* é¡¶éƒ¨ç²‰è‰²åŒºåŸŸ */
    .topPinkList {
      box-sizing: border-box;
      width: 800px;
      height: 330px;
      margin: 0 auto;
      position: relative;
    }

    .topPinkList .pinkList {
      box-sizing: border-box;
      width: 70px;
      position: absolute;
      bottom: 0;
    }

    .topPinkList .pinkList.pink1 {
      left: 175px;
    }

    .topPinkList .pinkList.pink2 {
      left: 315px;
    }

    .topPinkList .pinkList.pink3 {
      left: 525px;
    }

    .pinkBox {
      box-sizing: border-box;
      width: 70px;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 1px solid #000;
      background-color: #ec97a5;
      cursor: pointer;
    }

    .pinkBox1 {
      background-color: #F0AA93;
    }

    .pinkBox2 {
      background-color: #F3BAC3;
    }

    .topPinkList .canzhao {
      width: 70px;
      height: 70px;
      box-sizing: border-box;
      margin-bottom: 35px;
    }

    /* ä¸­é—´è“è‰²åŒºåŸŸ */
    .centerBlueList {
      position: relative;
      width: 800px;
      margin: 0 auto;
      box-sizing: border-box;
      display: flex;
      align-items: center;
    }

    .blueBox {
      box-sizing: border-box;
      width: 70px;
      height: 70px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 1px solid #000;
      background-color: #4874cb;
      cursor: pointer;
    }

    .centerBlueList .left {
      margin: 0px;
      margin-right: 35px;
    }

    .centerBlueList .right {
      margin: 0px;
      margin-left: 35px;
    }

    .centerBlueList .canzhao {
      /* margin-right: 50px; */
      width: 70px;
      height: 70px;
    }

    /* åº•éƒ¨ç²‰è‰²åŒºåŸŸ */
    .bottomPinkList {
      box-sizing: border-box;
      width: 800px;
      height: 260px;
      margin: 0 auto;
      position: relative;
    }

    .bottomPinkList .pinkList {
      box-sizing: border-box;
      width: 70px;
      position: absolute;
      top: 0;
    }

    .bottomPinkList .pinkList.pink1 {
      left: 175px;
    }

    .bottomPinkList .pinkList.pink2 {
      left: 385px;
    }

    .bottomPinkList .canzhao {
      width: 70px;
      height: 70px;
      box-sizing: border-box;
      margin-top: 35px;
    }

    /* é’¥åŒ™å›¾ç‰‡æ ·å¼ */
    .yuechi {
      display: none;
      width: 90%;
      height: 90%;
      object-fit: contain;
      animation: bounce 0.8s ease;
    }

    .canzhao img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .yuechi.found {
      display: block !important;
    }

    /* åŠ¨ç”» */
    @keyframes pulse {
      0% {
        transform: scale(1);
      }

      50% {
        transform: scale(1.05);
      }

      100% {
        transform: scale(1);
      }
    }

    @keyframes bounce {
      0% {
        transform: scale(0);
      }

      50% {
        transform: scale(1.2);
      }

      100% {
        transform: scale(1);
      }
    }

    /* æ‚¬åœæ•ˆæœ */
    .leftTipsList .item:hover {
      transform: scale(1.05);
      cursor: help;
    }

    /* å¸®åŠ©æŒ‰é’®æ ·å¼ï¼ˆåŸVueä¸­çš„extendï¼‰ */
    .help-button {
      position: fixed;
      right: 30px;
      top: 20px;
      z-index: 1000;
      padding: 12px 24px;
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #4874cb;
      border-radius: 30px;
      box-shadow: 0 4px 15px rgba(72, 116, 203, 0.3);
      font-size: 18px;
      color: #4874cb;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .help-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(72, 116, 203, 0.4);
      background: #fff;
    }

    /* è¿‡æ¸¡åŠ¨ç”» */
    .hint-enter-active,
    .hint-leave-active {
      transition: all 0.5s ease;
    }

    .hint-enter-from,
    .hint-leave-to {
      opacity: 0;
      transform: translate(-50%, -20px);
    }

    /* ç§»åŠ¨ç«¯é€‚é… */
    @media (max-width: 768px) {
      .container {
        transform: scale(0.8);
      }

      .leftTipsList {
        top: 20px;
        left: 5px;
      }

      .restart-button {
        right: 20px;
        padding: 8px 16px;
      }
    }
  </style>
</head>

<body>
  <div class="box">
    <button class="restart-button" onclick="resetGame(event)">
      <span>ğŸ”„</span> é‡æ–°å¼€å§‹
    </button>

    <div class="leftTipsList" id="hintList"></div>

    <div class="hint-box" id="hintBox"></div>

    <div class="container">
      <div class="topPinkList">
        <!-- ç¬¬ä¸€åˆ—ä¸¤ä¸ªç²‰è‰² -->
        <div class="pinkList pink1">
          <div class="pinkBox pinkBox1" onclick="findKey(event)"></div>
          <div class="pinkBox pinkBox2" onclick="findKey(event)"></div>
        </div>
        <!-- ç¬¬äºŒåˆ—ä¸‰ä¸ªç²‰è‰² -->
        <div class="pinkList pink2">
          <div class="canzhao">
            <img src="./img/yueliang.png" alt="" />
          </div>
          <div class="pinkBox aixin" onclick="findKey(event)" data-key-type="aixin">
            <img class="yuechi" src="./img/yuechi.png" alt="" />
          </div>
          <div class="pinkBox pinkBox2" onclick="findKey(event)"></div>
          <div class="pinkBox" onclick="findKey(event)"></div>
        </div>
        <!-- ç¬¬ä¸‰åˆ—ä¸¤ä¸ªç²‰è‰² -->
        <div class="pinkList pink3">
          <div class="canzhao">
            <img src="./img/xingxing.png" alt="" />
          </div>
          <div class="pinkBox xiaolian" onclick="findKey(event)" data-key-type="xiaolian">
            <img class="yuechi" src="./img/yuechi1.png" alt="" />
          </div>
          <div class="pinkBox" onclick="findKey(event)"></div>
        </div>
      </div>
      <!-- ä¸­é—´çš„è“è‰²ç›’å­ -->
      <div class="centerBlueList">
        <div class="canzhao left">
          <img src="./img/xiaolian.png" alt="" />
        </div>
        <div class="blueBox" onclick="findKey(event)"></div>
        <div class="blueBox yueliang" onclick="findKey(event)" data-key-type="yueliang">
          <img class="yuechi" src="./img/yuechi2.png" alt="" />
        </div>
        <div class="blueBox" onclick="findKey(event)"></div>
        <div class="blueBox taiyang" onclick="findKey(event)" data-key-type="taiyang">
          <img class="yuechi" src="./img/yuechi3.png" alt="" />
        </div>
        <div class="blueBox" onclick="findKey(event)"></div>
        <div class="blueBox" onclick="findKey(event)"></div>
        <div class="blueBox" onclick="findKey(event)"></div>
        <div class="blueBox xingxing" onclick="findKey(event)" data-key-type="xingxing">
          <img class="yuechi" src="./img/yuechi4.png" alt="" />
        </div>
        <div class="canzhao right">
          <img src="./img/aixin.png" alt="" />
        </div>
      </div>
      <!-- åº•éƒ¨ç²‰è‰²ç›’å­ -->
      <div class="bottomPinkList">
        <!-- ç¬¬ä¸€åˆ—ä¸¤ä¸ªç²‰è‰² -->
        <div class="pinkList pink1">
          <div class="pinkBox pinkBox1" onclick="findKey(event)"></div>
          <div class="pinkBox pinkBox2" onclick="findKey(event)"></div>
          <div class="canzhao">
            <img src="./img/taiyang.png" alt="" />
          </div>
        </div>
        <!-- ç¬¬äºŒåˆ—ä¸¤ä¸ªç²‰è‰² -->
        <div class="pinkList pink2">
          <div class="pinkBox pinkBox2" onclick="findKey(event)"></div>
          <div class="pinkBox" onclick="findKey(event)"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // æ¸¸æˆçŠ¶æ€ç®¡ç†
    const state = {
      showHint: false,
      hintText: '',
      currentHintIndex: 0,
      keys: [{
        type: 'xiaolian',
        src: './img/xiaolian.png',
        found: false,
        hint: 'ç¬‘è„¸æç¤º â†’7â†‘2',
        text1: 'â†’',
        text2: '7',
        text3: 'â†‘',
        text4: '2'
      },
      {
        type: 'aixin',
        src: './img/aixin.png',
        found: false,
        hint: 'çˆ±å¿ƒæç¤º â†5â†‘3',
        text1: 'â†',
        text2: '5',
        text3: 'â†‘',
        text4: '3'
      },
      {
        type: 'taiyang',
        src: './img/taiyang.png',
        found: false,
        hint: 'å¤ªé˜³æç¤º â†‘3 â†’2',
        text1: 'â†‘',
        text2: '3',
        text3: 'â†’',
        text4: '2'
      },
      {
        type: 'xingxing',
        src: './img/xingxing.png',
        found: false,
        hint: 'æ˜Ÿæ˜Ÿæç¤º â†“3â†’1',
        text1: 'â†“',
        text2: '3',
        text3: 'â†’',
        text4: '1'
      },
      {
        type: 'yueliang',
        src: './img/yueliang.png',
        found: false,
        hint: 'æœˆäº®æç¤º â†“4â†2',
        text1: 'â†“',
        text2: '4',
        text3: 'â†',
        text4: '2'
      }
      ],
      audio: {
        success: new Audio('./audio/success.mp3'),
        fail: new Audio('./audio/fail.mp3')
      }
    }

    // DOMå…ƒç´ ç¼“å­˜
    const dom = {
      hintList: document.getElementById('hintList'),
      hintBox: document.getElementById('hintBox')
    }

    // åˆå§‹åŒ–æç¤ºåˆ—è¡¨
    function initHintList() {
      dom.hintList.innerHTML = '';
      state.keys.forEach((key, index) => {
        const item = document.createElement('div');
        let className = 'item';

        if (key.found) className += ' found';
        if (index === state.currentHintIndex) className += ' active';

        item.className = className;
        item.innerHTML = `
				            <div class="icon">
				                <img src="${key.src}" alt="${key.type}">
				            </div>
				            <div class="text">
				                <span>${key.text1}</span>
				                <span>${key.text2}</span>
				                <span>${key.text3}</span>
				                <span>${key.text4}</span>
				            </div>
				        `;
        dom.hintList.appendChild(item);
      });
    }

    // æ˜¾ç¤ºæç¤ºä¿¡æ¯
    function showHint(message, isError = false) {
      dom.hintBox.textContent = message;
      dom.hintBox.classList.add('show');
      if (isError) state.audio.fail.play();
      else state.audio.success.play();

      setTimeout(() => {
        dom.hintBox.classList.remove('show');
      }, 2000);
    }

    // æ¸¸æˆé€»è¾‘
    // ä¿®æ”¹åçš„findKeyå‡½æ•°
    function findKey(event) {
      const box = event.currentTarget;
      const keyType = box.dataset.keyType;
      const currentKey = state.keys[state.currentHintIndex];

      if (!currentKey) {
        showHint('ğŸ‰');
        // å…¨éƒ¨æ‰¾åˆ°å•¦ï¼
        return;
      }

      if (!keyType) {
        showHint('ğŸ˜…', true);
        // è¿™ä¸ªç›’å­æ²¡æœ‰é’¥åŒ™å“¦
        return;
      }

      if (keyType !== currentKey.type) {
        showHint('âŒ', true);
        // è¿™ä¸ªä¸æ˜¯å½“å‰è¦æ‰¾çš„é’¥åŒ™å“¦ï¼
        return;
      }

      // æ‰¾åˆ°æ­£ç¡®é’¥åŒ™çš„é€»è¾‘
      const keyImg = box.querySelector('.yuechi');
      if (keyImg) {
        currentKey.found = true;
        state.currentHintIndex++;
        keyImg.classList.add('found');
        showHint('ğŸ‰');
        // æ‰¾åˆ°é’¥åŒ™å•¦ï¼

        // æ›´æ–°æç¤ºåˆ—è¡¨
        initHintList();

        // æ£€æŸ¥æ˜¯å¦å…¨éƒ¨æ‰¾åˆ°
        if (state.currentHintIndex >= state.keys.length) {
          showHint('ğŸ‰');
          // æ­å–œï¼æ‰€æœ‰é’¥åŒ™éƒ½æ‰¾åˆ°äº†ï¼
        }
      }
    }

    // é‡ç½®æ¸¸æˆ
    function resetGame(event) {
      event.stopPropagation();

      // é‡ç½®çŠ¶æ€
      state.keys.forEach(key => key.found = false);
      state.currentHintIndex = state.keys.findIndex(k => !k.found);

      // é‡ç½®DOM
      document.querySelectorAll('.yuechi').forEach(img => {
        img.classList.remove('found');
      });

      // åˆå§‹åŒ–æç¤º
      initHintList();
      showHint('ğŸ”„');
      // æ¸¸æˆå·²é‡ç½®ï¼Œé‡æ–°å¼€å§‹å§ï¼
    }

    // åˆå§‹åŒ–æ¸¸æˆ
    document.addEventListener('DOMContentLoaded', () => {
      // åˆå§‹çŠ¶æ€
      state.currentHintIndex = state.keys.findIndex(k => !k.found);
      initHintList();
    });
  </script>
</body>

</html>